
CREATE TABLE cart
(
    id             BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    user_id        BIGINT,
    total_price    DOUBLE PRECISION,
    total_quantity INTEGER,
    CONSTRAINT pk_cart PRIMARY KEY (id)
);

CREATE TABLE cart_item
(
    id       BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    item_id  BIGINT,
    size     INTEGER,
    quantity INTEGER,
    cart_id  BIGINT,
    CONSTRAINT pk_cartitem PRIMARY KEY (id)
);

ALTER TABLE cart_item
    ADD CONSTRAINT FK_CARTITEM_ON_CART FOREIGN KEY (cart_id) REFERENCES cart (id);

ALTER TABLE cart_item
    ADD CONSTRAINT FK_CARTITEM_ON_ITEM FOREIGN KEY (item_id) REFERENCES item (id);

DROP SEQUENCE cart_seq CASCADE;